function position(t){this.positionID=t,this.rootID=0,this.parentID=0,this.parentContainerID,this.containerHeader,this.prefixID="pos"+Math.floor(1e3*Math.random())+"_",this.data=new Object}position.prototype.initialize=function(t){var i=this;this.parentContainerID=t;var o=this.prefixID+this.positionID;this.containerHeader=o+"_title";var n;n='<div id="'+o+'" class="positionSmall">\t\t\t\t<div id="'+o+'_numFTE" class="fteCounter"></div>\t\t\t\t<div id="'+o+'_title" class="positionSmall_title"></div>\t\t\t\t<div id="'+o+'_container" class="positionSmall_data">\t\t\t\t\t<div id="'+o+'_content"></div>\t\t\t\t\t<div id="'+o+'_controls" style="visibility: hidden; display: none"><div class="button" onclick="window.location=\'?a=view_position&amp;positionID='+this.positionID+'\';"><img src="../libs/dynicons/?img=accessories-text-editor.svg&amp;w=32" alt="Edit" title="Edit" /> View Details</div> \t\t\t\t\t<div class="button" onclick="addSubordinate('+this.positionID+')"><img src="../libs/dynicons/?img=list-add.svg&amp;w=32" alt="Add Icon" title="Add Icon" /> Add Subordinate</div></div>\t\t\t\t</div>\t\t\t  </div>',$("#"+t).append(n),$("#"+o+"_container").on("mouseenter",function(){$("#"+o+"_controls").css({visibility:"visible",display:"inline"}),$("#"+o).css("zIndex","900")}),$("#"+o+"_container").on("mouseleave",function(){i.unsetFocus()}),$("#"+this.containerHeader).on("mouseenter",function(){$("#"+this.containerHeader).addClass("positionSmall_title_drag")}),$("#"+this.containerHeader).on("mouseleave",function(){$("#"+this.containerHeader).removeClass("positionSmall_title_drag")})},position.prototype.onLoad=function(){},position.prototype.onDrawComplete=function(){},position.prototype.prepContent=function(t){this.data=t,this.setNumFTE(t[11].data),this.setTitle(t.title);var i=""!=t[9].data?"PD#"+t[9].data:"";if(this.setContent(t[2].data+" "+t[13].data+"-"+t[14].data+"<br />"+i),""!=t[15].data){var o=$.parseJSON(t[15].data);$("#"+this.prefixID+this.positionID).css("position","absolute");var n=120,s=40;null!=o[this.rootID]?(0<o[this.rootID].y&&(n=o[this.rootID].y),0<o[this.rootID].x&&(s=o[this.rootID].x)):null!=o[this.parentID]&&(0<o[this.parentID].y&&(n=o[this.parentID].y),0<o[this.parentID].x&&(s=o[this.parentID].x)),this.setDomPosition(s,n)}},position.prototype.draw=function(t){var i=this;null==t?$.ajax({url:"./api/?a=position/"+this.positionID,data:{q:this.q},dataType:"json",success:function(t){i.prepContent(t),i.onLoad(),i.onDrawComplete()},cache:!1}):(i.data=t,response=t,i.prepContent(response),i.onLoad(),i.onDrawComplete())},position.prototype.getDomID=function(){return this.prefixID+this.positionID},position.prototype.setDomPosition=function(t,i){$("#"+this.prefixID+this.positionID).css({position:"absolute",top:i+"px",left:t+"px"})},position.prototype.getPositionID=function(){return this.positionID},position.prototype.setNumFTE=function(t){$("#"+this.prefixID+this.positionID+"_numFTE").html(t)},position.prototype.setTitle=function(t){""==t&&(t=""),$("#"+this.prefixID+this.positionID+"_title").html(t)},position.prototype.setContent=function(t){$("#"+this.prefixID+this.positionID+"_content").html(t)},position.prototype.setRootID=function(t){this.rootID=t},position.prototype.setParentID=function(t){this.parentID=t},position.prototype.unsetFocus=function(){$("#"+this.prefixID+this.positionID+"_controls").css("visibility","hidden"),$("#"+this.prefixID+this.positionID+"_controls").css("display","none"),$("#"+this.prefixID+this.positionID).css("zIndex","20")},position.prototype.emptyControls=function(){$("#"+this.prefixID+this.positionID+"_controls").empty()},position.prototype.addControl=function(t){$("#"+this.prefixID+this.positionID+"_controls").append(t)};